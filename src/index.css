@import "tailwindcss";
@plugin "@tailwindcss/typography";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* Custom Colors */
  --color-primary: #2563eb;
  --color-secondary: #4f46e5;
  --color-background: #f8fafc;
  --color-surface: #ffffff;
  --color-surfaceHighlight: #f1f5f9;
  --color-textMain: #0f172a;
  --color-textMuted: #64748b;
  --color-border: #e2e8f0;

  /* Custom Font Family */
  --font-sans: "Inter", "ui-sans-serif", "system-ui", "-apple-system",
    "BlinkMacSystemFont", "Segoe UI", "Roboto", "Helvetica Neue", "Arial",
    "sans-serif";

  /* Custom Breakpoint */
  --breakpoint-xs: 520px;
}

@font-face {
  font-family: "Inter";
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url("/fonts/inter-regular.woff2") format("woff2");
}

@font-face {
  font-family: "Inter";
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url("/fonts/inter-medium.woff2") format("woff2");
}

@font-face {
  font-family: "Inter";
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url("/fonts/inter-semibold.woff2") format("woff2");
}

@font-face {
  font-family: "Inter";
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url("/fonts/inter-bold.woff2") format("woff2");
}

/* Custom Shadows */
@utility shadow-sm-custom {
  box-shadow: 0 2px 4px 0 rgb(0 0 0 / 0.05);
  @apply dark:shadow-sm dark:shadow-slate-600/50;
}

@utility shadow-md-custom {
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
  @apply dark:shadow-md dark:shadow-slate-600/50;
}

@utility shadow-lg-custom {
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.05),
    0 4px 6px -4px rgb(0 0 0 / 0.05);
  @apply dark:shadow-2xl dark:shadow-slate-700/70;
}

/* Dark mode color overrides */
@layer base {
  html.dark {
    color-scheme: dark;
  }

  html.dark * {
    --color-background: #0f172a;
    --color-surface: #1e293b;
    --color-surfaceHighlight: #334155;
    --color-textMain: #f1f5f9;
    --color-textMuted: #cbd5e1;
    --color-border: #475569;
  }
}

/* ===== BASE STYLES ===== */
@layer base {
  html {
    scrollbar-gutter: stable;
  }

  body {
    @apply font-sans;
    background-color: var(--color-background);
    color: var(--color-textMain);
    transition: background-color 0.3s ease, color 0.3s ease;
    scrollbar-gutter: stable;
  }

  /* Accessible focus styles */
  button:focus-visible,
  a:focus-visible,
  input:focus-visible {
    @apply outline-2 outline-offset-2 outline-primary;
  }
}

/* ===== CUSTOM UTILITIES ===== */
* {
  scrollbar-color: var(--color-primary) var(--color-background);
  scrollbar-width: thin;
}

/* Custom Class */
@utility point {
  @apply cursor-pointer;
}

@keyframes shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

@utility glass {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  @apply dark:bg-slate-900/60 dark:border-slate-700/50;
}

@utility premium-gradient {
  background: linear-gradient(135deg, #2563eb 0%, #4f46e5 100%);
}

@keyframes blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.5s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  opacity: 0;
}

.animate-fade-in-up {
  animation: fadeInUp 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  opacity: 0;
}

.animate-slide-in-left {
  animation: slideInLeft 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  opacity: 0;
}

.animate-slide-in-right {
  animation: slideInRight 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  opacity: 0;
}

.shimmerTextLight {
  background: linear-gradient(to right, #b57ff2, #5e35b1, #e65a8d);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: shimmer 6s linear infinite;
}

.shimmerTextDark {
  background: linear-gradient(to right, #8b5cf6, #6b21a8, #db2777);
}

/* Hide number input arrows */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield;
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }

  .print-only {
    display: block !important;
  }

  body {
    background-color: white;
    color: black;
  }
  .page-break {
    page-break-before: always;
  }
}
.print-only {
  display: none;
}

html.dark .delete-btn {
  background: rgba(127, 29, 29, 0.3);
  border-color: #991b1b;
  color: #f87171;

  &:hover {
    background: rgba(127, 29, 29, 0.5);
  }
}

/* End of theme overrides */
/* ===== ACHIEVEMENT CELEBRATION ANIMATIONS ===== */
@keyframes fadeInDim {
  from {
    opacity: 0;
  }
  to {
    opacity: 0.7;
  }
}

@keyframes fadeOutDim {
  from {
    opacity: 0.7;
  }
  to {
    opacity: 0;
  }
}

@keyframes dropBounce {
  0% {
    transform: translateY(-100vh) scale(0.8);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  70% {
    transform: translateY(20px) scale(1.05);
  }
  85% {
    transform: translateY(-10px) scale(0.95);
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

@keyframes popIn {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  70% {
    transform: scale(1.15);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.achievement-celebration-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  animation: fadeInDim 0.4s ease-out forwards;
}

.achievement-celebration-overlay.exit {
  animation: fadeOutDim 0.4s ease-out forwards;
}

.achievement-card {
  animation: dropBounce 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
  z-index: 10000;
}

.achievement-button {
  animation: popIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  animation-delay: 0.5s;
  opacity: 0;
}
/* ===== EXPANSION ANIMATIONS ===== */
@keyframes expandDown {
  from {
    opacity: 0;
    max-height: 0;
    overflow: hidden;
  }
  to {
    opacity: 1;
    max-height: 1000px;
    overflow: visible;
  }
}

@keyframes collapseUp {
  from {
    opacity: 1;
    max-height: 1000px;
    overflow: hidden;
  }
  to {
    opacity: 0;
    max-height: 0;
    overflow: hidden;
  }
}

.expand-animation {
  animation: expandDown 0.3s ease-out forwards;
}

.collapse-animation {
  animation: collapseUp 0.3s ease-in forwards;
}

.typewriter-cursor {
  display: inline-block;
  width: 2px;
  height: 1em;
  vertical-align: middle;
  margin-left: 6px;
  animation: blink 1s step-start infinite;
}
